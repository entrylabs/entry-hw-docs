<!DOCTYPE html>
<html lang="ko-kr">
	<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      문서들 &middot; Entry Docs
    
  </title>

  <!-- CSS -->
  <!--
  <link rel="stylesheet" href="/entry-hw/public/css/hyde.css">
  -->
  <link rel="stylesheet" href="/entry-hw/public/css/flux.css">
  <link rel="stylesheet" href="/entry-hw/public/css/flux-extend.css">
  <link rel="stylesheet" href="/entry-hw/public/css/syntax.css">
  <link rel="stylesheet" href="/entry-hw/public/css/poole.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/entry-hw/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/entry-hw/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>

	<body>
		<div class="container">
			<div class="nav-main">
    <div class="wrap">
        <a href="/entry-hw/" class="nav-home">
            <img src="/entry-hw/public/image/logo.png"/>
            <span>
                Entry Docs
            </span>
        </a>
        <ul class="nav-site">
            <li>
                <a class="active">
                    DOCS
                </a>
            </li>
            <li>
                <a class="">
                    SUPPORT
                </a>
            </li>
            <li>
                <a href="https://github.com/entrylabs/entry-hw" target="_blank">
                    GITHUB
                </a>
            </li>
        </ul>
    </div>
</div>

			<div class="content wrap documentationContent">
				<div class="nav-docs posts">
    <div class="nav-docs-section">
        <h3>Quick Start</h3>
        <ul>
            
            
                
                    
                        <li><a class="" href="/entry-hw/page/1_GettingStarted/">시작하기</a></li>
                    
                
            
                
                    
                        <li><a class="" href="/entry-hw/page/2_SettingEnvironments/">개발환경 세팅</a></li>
                    
                
            
                
                    
                        <li><a class="" href="/entry-hw/page/3_BaseGuide/">기본 개발 절차</a></li>
                    
                
            
                
                    
                
            
                
                    
                
            
                
            
                
                    
                
            
                
                    
                
            
                
                    
                
            
                
                    
                
            
        </ul>
    </div>
    <div class="nav-docs-section">
        <h3>하드웨어 모듈 개발</h3>
        <ul>
            
                
            
                
            
                
            
                
            
                
            
                
            
                
                    <li><a class="" href="/entry-hw/2016/05/03/add_module/">모듈 추가 방법</a></li>
                
            
        </ul>
    </div>
    <div class="nav-docs-section">
        <h3>엔트리 블록 개발</h3>
        <ul>
            
            
                
            
                
            
                
            
                
            
                    <li><a class="" href="/entry-hw/2016/05/22/add_new_blocks/">블록 명세 작성</a></li>
                
            
                
            
                    <li><a class="" href="/entry-hw/2016/05/26/add_new_blocks2/">블록 사용 등록</a></li>
                
            
                
            
                    <li><a class="" href="/entry-hw/2016/05/26/add_new_blocks3/">각 블록 모양별 생성 방법</a></li>
                
            
                
            
                    <li><a class="" href="/entry-hw/2016/07/08/add_new_blocks4/">하드웨어 블록 만들기</a></li>
                
            
        </ul>
    </div>
    <div class="nav-docs-section">
        <h3>Tip & Tech</h3>
        <ul>
            
                
            
                
                    <li><a class="" href="/entry-hw/2016/07/07/faq/">FAQ</a></li>
                
            
                
            
                
            
                
            
                
                    <li><a class="" href="/entry-hw/2016/05/03/git_fork/">Git Fork 방법</a></li>
                
            
                
            
        </ul>
    </div>
    
</div>

				<div class="inner-content">

					<div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/entry-hw/2016/07/08/add_new_blocks4/">
        하드웨어 블록 만들기
      </a>
    </h1>

    <span class="post-date">08 Jul 2016</span>

    <p>하드웨어 블록은 기본적으로 일반 블록과 생성 및 사용법이 같으나 아래와 같은 몇가지 특징이 있습니다.</p>

<ol>
  <li>블록색상 고정(#00979D)</li>
  <li>하드웨어 연결 프로그램에 값 읽고 쓰기
    <ol>
      <li>Entry.hw.sendQueue (값 보내기)</li>
      <li>Entry.hw.portData (값 읽기)</li>
    </ol>
  </li>
  <li>하드웨어 초기값 설정
    <ol>
      <li>Entry.(하드웨어이름).setZero</li>
    </ol>
  </li>
  <li>isNorFor와 Class의 활용
    <ol>
      <li>isNotFor</li>
      <li>Class</li>
    </ol>
  </li>
</ol>

<p>위의 내용에 대한 설명은 다음과 같습니다.</p>

<hr />

<h3 id="section">블록생상 고정</h3>

<p>하드웨어 블록은 현재는 <code class="highlighter-rouge">#00979D</code>로 고정해서 사용하도록 강제하고 있습니다. 이점 양해부탁드리며 앞으로 소스 개발시 해당 부분 변동 없이 처리 부탁드립니다.</p>

<h3 id="section-1">하드웨어 연결프로그램에 값 읽고 쓰기</h3>

<h4 id="entryhwsendqueue--">1. Entry.hw.sendQueue (값 보내기)</h4>

<p>블록 명세를 보면 func에 블록의 기본 행동을 정의하도록 되어 있습니다. 엔트리 프로그램에서는 정의된 주기대로 websocket을 통해 하드웨어에 데이터를 전달하는데 이때 전달하는 값이 Entry.hw.sendQueue의 값입니다. text형태의 어떠한 값이라고 sendQueue를 통해 전달할수 있고 적절하게 하드웨어에서 받아서 처리 한다면 어떠한 형태의 text도 전달 가능합니다. 다만, 성능이슈가 발생할수 있으므로 최대한 적은 데이터를 보내주시고 JSON형태의 데이터를 권장합니다.</p>

<h5 id="section-2">사용 예</h5>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="p">(</span><span class="nx">sprite</span><span class="p">,</span> <span class="nx">script</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Port 라는 key에 '1'이라는 데이터를 하드웨어 프로그램에 보냄.</span>
    <span class="nx">Entry</span><span class="p">.</span><span class="nx">hw</span><span class="p">.</span><span class="nx">sendQueue</span><span class="p">[</span><span class="s1">'Port'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1'</span><span class="p">;</span>
    <span class="c1">// 다음 블록으로 진행</span>
    <span class="k">return</span> <span class="nx">script</span><span class="p">.</span><span class="nx">callRetrurn</span><span class="p">();</span>
<span class="p">}</span></code></pre></figure>

<h4 id="entryhwportdata--">2. Entry.hw.portData (값 읽기)</h4>

<p>똑같이 func에 사용하는 값으로 주기적으로 하드웨어에서 들어오는 data값 입니다. 값을 읽어서 화면에 표기해야 하는 블록의 경우 해당 값을 읽어서 처리해야 합니다. 기본적으로 text정보 또는 JSON정보가 포함되어 들어 오게 되어 있습니다. 하드웨어 프로그램에서 처리하여 보내준 데이터가 그대로 들어오도록 구성되어 있으니 하드웨어 모듈을 작성하실때 해당 부분을 염두해 두고 만드시면 좋을 것 같습니다.</p>

<h5 id="section-3">사용 예</h5>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="p">(</span><span class="nx">sprite</span><span class="p">,</span> <span class="nx">script</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Port 라는 key값을 가진 정보를 읽는다.</span>
    <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">Entry</span><span class="p">.</span><span class="nx">hw</span><span class="p">.</span><span class="nx">portData</span><span class="p">[</span><span class="s1">'Port'</span><span class="p">];</span>
    <span class="c1">// 값을 전달함.</span>
    <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<h3 id="section-4">하드웨어 초기값 설정</h3>

<p>엔트리 프로그램을 주기적으로 시작하기와 정지하기를 사용자가 수행하게 되고 정지하는 순간 엔트리 작품의 상태가 초기로 돌아가도록 되어 있습니다. 이에 맞춰서 하드웨어도 초기값(아무것도 동작하지 않았던 최초의 상태)으로 설정해줘야 합니다. 물론, 개발방향에 따라 해당기능이 필요 없을수도 있습니다. 이것은 개발자 본인이 판단하시고 작성해 주시면 됩니다.</p>

<h4 id="entrysetzero">Entry.(하드웨어명).setZero</h4>

<p>기본적으로 entryjs/src/blocks/(작성하신 하드웨어 오브젝트 정의 스크립트).js 이곳에 작성한 자바스크립에서 setZero를 정의하도록 합니다. (block_arduino.js롤 참고해 보시는것도 좋습니다.) 해당 소스에는 Entry.hw.sendQueue에 초기값을로 동작할 데이터를 세팅 하고 Entry.hw.update()를 실행시켜서 하드웨어쪽으로 데이터를 보내도록 정의하면 됩니다.</p>

<h5 id="section-5">사용예</h5>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">setZero</span><span class="err">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Port라는 key값을 가진데이터의 초기값은 0</span>
    <span class="nx">Entry</span><span class="p">.</span><span class="nx">hw</span><span class="p">.</span><span class="nx">sendQueue</span><span class="p">[</span><span class="s1">'Port'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'0'</span><span class="p">;</span>
    <span class="c1">// 해당 데이터를 하드웨어 전달한다.</span>
    <span class="nx">Entry</span><span class="p">.</span><span class="nx">hw</span><span class="p">.</span><span class="nx">update</span><span class="p">();</span>
<span class="p">}</span></code></pre></figure>

<h3 id="isnorfor-class-">isNorFor와 Class의 활용</h3>

<p>isNotFor와 Class는 사용자에게 블록을 알맞게 보여주는 역할을 합니다.</p>

<h4 id="isnotfor">isNotFor</h4>

<p>isNotFor의 역할은 해당 하드웨어가 연결되었을때 해당 하드웨어를 사용자에게 보여주는 역할을 하게 되어있습니다. isNotFor에 적힐 데이터는 Entry.(적성한 하드웨어 오브젝트).name 이 매칭되도록 되어 있습니다. 해당 몇칭이 대소문자 까지 정확히 매칭되어야 해당 하드웨어가 연결되었을때 정확히 표현 할수 있습니다. 다만 해당 내용을 작성하지 않을 경우 항상 표시되도록 되는데 이렇게 작성하시면 저희쪽 반영이 Reject사유가 되니 빠짐없이 채워주시기 바랍니다.</p>

<h4 id="class">Class</h4>

<p>Class의 경우에는 블록들간의 구분선을 보여주는 역할을 합니다. 기본적으로 데이터 get과 set정도의 구분이나 특정 상황에서만 쓰는 블록들간의 그룹핑을 해주는 역할이라고 보시면 됩니다. 기본적으로 (entryjs)/extren/util/static.js category에 등록된 블록 순서대로 블록이 표현되며 해당 class가 변경될때마다 구분선이 생기므로 static.js에 category를 넣어주실때 순서를 잘 생각하고 작성해주시면 됩니다.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/entry-hw/2016/07/07/faq/">
        FAQ
      </a>
    </h1>

    <span class="post-date">07 Jul 2016</span>

    <p><strong>개발환경에 필요한게 일단 NodeJS이고, NodeJS를 깔면 npm 설치가 가능해지니 npm 설치로 grunt, grunt-cli, Electron-prebuilt 이 세가지의 패키지만 설치하면는 건가요?</strong></p>

<p>개발환경은 그렇습니다. 혹시 패키징(빌드) 까지 필요하시다면 C++ 컴파일러(보통 VS 2015 Comunity), python 2.7.11 버전이 필요합니다.</p>

<p><br />
<strong>개발환경 세팅할때 환경변수 설정은 따로 필요없나요?</strong></p>

<p>기본적으로 자동으로 환경변수 세팅이 완료됩니다. 하지만 개발자 PC의 세팅여부에 따라 따로 지정해야 동작할 여지도 있습니다.</p>

<p><br />
<strong>블록을 개발할때 쓸 IDE환경은 자바가 지원된다는 전제하에 아무거나 상관없습니까? <br />(ex. eclipse) 추천하는 것이 있다면 추천해주세요</strong></p>

<p>자바스크립트 어시스트를 잘해 줄 수 있는 가볍운 텍스트 에디터를 추천합니다. 저희쪽에서 사용하는 에디터는 vim, sublime text, atom등이 있으며 개인적으로 sublime text를 추천합니다.</p>

<p><br />
<strong>하드웨어기기가 연결되어 있는 상태에서 소스 코딩작업을 한 후 git에 올리고, 펌웨어 다운을하면 실시간으로 개발한 블럭이 보여지나요?</strong></p>

<p>블럭이 보여지는것과 git하고는 별개 라고 생각하시면 됩니다.
git에 소스를 올리는 것은 실제 운영에 반영하기 위함 이구요.
블록확인은 entryjs repository에 example/example.html 파일을 크롬에 띄워서 간편하게 확인하실수 있습니다.</p>

<p><br />
<strong>아두이노 계열 보드에 펌웨어 업로드 어떻게 하나요?</strong></p>

<p>아두이노 우노 계열의 보드는 flasher폴더 하위에 하드웨어명.hex로 올려 놓고 하드웨어명.json 에서 하드웨어 명을 firmware로 지정하면 펌웨어 업로드가 가능합니다.</p>

<p><br />
<strong>블록 개발하는 소스의 위치가 어디인가요?</strong></p>

<p>블록의 메인소스는 entryjs/src/workspace/block_entry.js 입니다.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/entry-hw/2016/05/26/add_new_blocks3/">
        각 블록 모양별 생성 방법
      </a>
    </h1>

    <span class="post-date">26 May 2016</span>

    <h3 id="section">목차</h3>

<ol>
  <li>값 블록
    <ol>
      <li>기본 블록</li>
      <li>기본 사용자 입력 블록</li>
      <li>중첩 사용자 입력 블록</li>
      <li>중첩 사용자 입력 블록 - 드롭다운 적용</li>
    </ol>
  </li>
  <li>판단 블록
    <ol>
      <li>기본 판단 블록</li>
      <li>중첩 사용자 입력 판단 블록</li>
      <li>중첩 사용자 드롭다운 판단 블록</li>
    </ol>
  </li>
  <li>순차 블록
    <ol>
      <li>기본 순차 블록</li>
      <li>사용자 입력 순차 블록</li>
      <li>드롭다운 입력 순차 블록</li>
    </ol>
  </li>
</ol>

<h3 id="section-1">1. 값 블록</h3>

<h4 id="section-2">ㄱ. 기본 블록</h4>
<p><img src="/entry-hw/public/image/block_create/default_value.png" alt="기본 블록" /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Entry</span><span class="p">.</span><span class="nx">block</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">default_value</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1">//블록 생상</span>
        <span class="na">color</span><span class="p">:</span> <span class="s2">"#FFD974"</span><span class="p">,</span>
        <span class="c1">// 폰트색상 basic_string_field는 기본 색상이 검정색(#000) 이다.</span>
        <span class="na">fontColor</span><span class="p">:</span> <span class="s2">"#000"</span><span class="p">,</span>
        <span class="c1">// 블록 모양 정의</span>
        <span class="na">skeleton</span><span class="p">:</span> <span class="s2">"basic_string_field"</span><span class="p">,</span>
        <span class="c1">// 블록 텍스트</span>
        <span class="na">template</span><span class="p">:</span> <span class="s2">"test"</span><span class="p">,</span>
        <span class="c1">// 보여질 블록 정의</span>
        <span class="na">def</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">type</span><span class="p">:</span> <span class="s2">"default_value"</span>
        <span class="p">},</span>
        <span class="c1">// 블록 그룹 정의</span>
        <span class="na">class</span><span class="p">:</span> <span class="s2">"test"</span><span class="p">,</span>
        <span class="c1">// 블록 기능정의</span>
        <span class="na">func</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sprite</span><span class="p">,</span> <span class="nx">script</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="s2">"value"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>가장 기본적인 블록이다.<br />
사용자에게 어떤한 입력도 받지 않고 단지 func정의한 return 값만 사용할수 있는 블록이다.<br />
미리 정의된 변수를 호출하는 것이 가능하다.<br />
skeleton이 “basic_string_field”로 정의된 블록의 모양이 이와 같다.<br />
글자색이 제대로 보이지 않는다면 fontColor 프로퍼티를 통해 수정할수 있다.<br />
template 프로퍼티에 정의한 텍스트가 그대로 나오게 된다.
template 프로퍼티는 작성 되어 있지 않다면 Lang.template 에서 정의된 블록 명칭으로 값을 가져오게 된다.<br />
<strong>다만, 정의된 블록 명칭이 없을경우 프로그램 자체가 로드가 되지 않음으로 주의!</strong></p>

<blockquote>
  <p>유사한 블록으로 초시계 값, 소릿값 블록이 있다.</p>
</blockquote>

<hr />

<h4 id="section-3">ㄴ. 기본 사용자 입력 블록</h4>
<p><img src="/entry-hw/public/image/block_create/default_input_value.png" alt="기본 블록" /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Entry</span><span class="p">.</span><span class="nx">block</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">default_input_value</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">color</span><span class="p">:</span> <span class="s2">"#FFD974"</span><span class="p">,</span>
        <span class="na">skeleton</span><span class="p">:</span> <span class="s2">"basic_string_field"</span><span class="p">,</span>
        <span class="c1">// 블록 텍스트 - %1은 0번째 파라미터를 뜻한다.</span>
        <span class="na">template</span><span class="p">:</span> <span class="s2">"%1"</span><span class="p">,</span>
        <span class="c1">// 블록에 사용할 파라미터</span>
        <span class="na">params</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="na">type</span><span class="p">:</span> <span class="s2">"TextInput"</span><span class="p">,</span>
                <span class="na">value</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="na">def</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">type</span><span class="p">:</span> <span class="s2">"default_input_value"</span>
        <span class="p">},</span>
        <span class="c1">// 파라미터를 사용 할때 쓰는 Key값 정의</span>
        <span class="na">paramsKeyMap</span><span class="p">:</span> <span class="p">{</span>
            <span class="c1">// VALUE라는 key에 0번째 파라미터를 정의 하였다.</span>
            <span class="na">VALUE</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
        <span class="na">class</span><span class="p">:</span> <span class="s2">"test"</span><span class="p">,</span>
        <span class="na">func</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sprite</span><span class="p">,</span> <span class="nx">script</span><span class="p">)</span> <span class="p">{</span>            
            <span class="c1">// 해당 값을 getField로 가져오고 </span>
            <span class="c1">// 가져 올때 paramsKeyMap에서 </span>
            <span class="c1">// 정의한 VALUE라는 키값으로 데이터를 가져온다.</span>
            <span class="k">return</span> <span class="nx">script</span><span class="p">.</span><span class="nx">getField</span><span class="p">(</span><span class="s2">"VALUE"</span><span class="p">,</span> <span class="nx">script</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>가장 많이 사용되는 블록<br />
단독으로 쓰이기 보단, 다른 블록의 파라미터로 사용되어지는 블록<br />
사용자에게 직접 입력받는 블록이다.<br />
여기서의 핵심은 template의 %1값이다. %1 이라고 정의한 값은 params의 0번째 param속성을 가져오고 
해당 값을 세팅하도록 되어 있다.</p>

<hr />

<h4 id="section-4">ㄷ. 중첩 사용자 입력 블록</h4>

<p><img src="/entry-hw/public/image/block_create/default_multi_input_value.png" alt="기본 블록" /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Entry</span><span class="p">.</span><span class="nx">block</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">default_multi_input_value</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">color</span><span class="p">:</span> <span class="s2">"#FFD974"</span><span class="p">,</span>
        <span class="na">skeleton</span><span class="p">:</span> <span class="s2">"basic_string_field"</span><span class="p">,</span>
        <span class="c1">// 블록 텍스트</span>
        <span class="c1">// 파라미터가 2개 사용되기 때문에 %1 %2 두개를 사용하였다.</span>
        <span class="na">template</span><span class="p">:</span> <span class="s2">"%1 + %2"</span><span class="p">,</span>
        <span class="na">params</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="c1">// 중첩되는 Value블록을 만들경우에는 </span>
                <span class="c1">// TextInput이 아닌 Block타입으로 생성한다.</span>
                <span class="c1">// Block type에는 string, boolean, param </span>
                <span class="c1">// 3가지 종류의 accept가 존재 한다.</span>
                <span class="na">type</span><span class="p">:</span> <span class="s2">"Block"</span><span class="p">,</span>
                <span class="na">accept</span><span class="p">:</span> <span class="s2">"string"</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="na">type</span><span class="p">:</span> <span class="s2">"Block"</span><span class="p">,</span>
                <span class="na">accept</span><span class="p">:</span> <span class="s2">"string"</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="na">events</span><span class="p">:</span> <span class="p">{},</span>
        <span class="na">def</span><span class="p">:</span> <span class="p">{</span>
            <span class="c1">// def의 params의 경우는 초기값을 지정할수 있다.</span>
            <span class="c1">// TextInput의 경우에도 def &gt; params을 통해 값을 지정할수 있다.</span>
            <span class="na">params</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="na">type</span><span class="p">:</span> <span class="s2">"number"</span><span class="p">,</span>
                    <span class="na">params</span><span class="p">:</span> <span class="p">[</span> <span class="s2">"0"</span> <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="na">type</span><span class="p">:</span> <span class="s2">"number"</span><span class="p">,</span>
                    <span class="na">params</span><span class="p">:</span> <span class="p">[</span> <span class="s2">"10"</span> <span class="p">]</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="na">type</span><span class="p">:</span> <span class="s2">"default_multi_input_value"</span>
        <span class="p">},</span>
        <span class="na">paramsKeyMap</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">LEFTHAND</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="na">RIGHTHAND</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">},</span>
        <span class="na">class</span><span class="p">:</span> <span class="s2">"test"</span><span class="p">,</span>
        <span class="na">func</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sprite</span><span class="p">,</span> <span class="nx">script</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// type이 Block의 경우에는 Field가 아닌 Value로 취급해서 가져온다.</span>
            <span class="c1">// 일반적으로는 getValue로 값을 가져오고</span>
            <span class="c1">// 명시적으로 숫자형으로 가져오고 싶을때에는 getNumberValue를 사용한다.</span>
            <span class="kd">var</span> <span class="nx">leftValue</span> <span class="o">=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">getNumberValue</span><span class="p">(</span><span class="s2">"LEFTHAND"</span><span class="p">,</span> <span class="nx">script</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">rightValue</span> <span class="o">=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">getNumberValue</span><span class="p">(</span><span class="s2">"RIGHTHAND"</span><span class="p">,</span> <span class="nx">script</span><span class="p">);</span>
            <span class="k">return</span>  <span class="nx">leftValue</span> <span class="o">+</span> <span class="nx">rightValue</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>자료 계산시 또는 하드웨어 아날로그 값을 처리할때 많이 사용하는 블록 형태이다.<br />
해당 블록에서 핵심은 단일 입력 블록을 만들때와는 다르게 <code class="highlighter-rouge">type: "Block"</code>를 사용해서 
값을 가져오는 것과 def &gt; params를 통해 초기값을 세팅한다는 점을 꼼꼼히 봐야한다.</p>

<blockquote>
  <p>유사한 블록은 계산 블록들과 하드웨어에서 아날로그 처리 블록들이다.</p>
</blockquote>

<hr />

<h4 id="section-5">ㄷ. 중첩 사용자 입력 블록 - 드롭다운 적용</h4>

<p><img src="/entry-hw/public/image/block_create/default_dropdown_input_value.png" alt="기본 블록" /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Entry</span><span class="p">.</span><span class="nx">block</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">default_dropdown_input_value</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">color</span><span class="p">:</span> <span class="s2">"#FFD974"</span><span class="p">,</span>
        <span class="na">skeleton</span><span class="p">:</span> <span class="s2">"basic_string_field"</span><span class="p">,</span>
        <span class="na">template</span><span class="p">:</span> <span class="s2">"%1 x %2"</span><span class="p">,</span>
        <span class="na">params</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="na">type</span><span class="p">:</span> <span class="s2">"Block"</span><span class="p">,</span>
                <span class="na">accept</span><span class="p">:</span> <span class="s2">"string"</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="na">type</span><span class="p">:</span> <span class="s2">"Dropdown"</span><span class="p">,</span>
                <span class="c1">// Dropdown 생성 기준은 </span>
                <span class="c1">// [["key1", "value1"], ["key2", "value2"]]</span>
                <span class="c1">// 처럼 구성이 된다.</span>
                <span class="na">options</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">[</span><span class="s2">"1"</span><span class="p">,</span> <span class="s2">"1"</span><span class="p">],</span>
                    <span class="p">[</span><span class="s2">"2"</span><span class="p">,</span> <span class="s2">"2"</span><span class="p">],</span>
                    <span class="p">[</span><span class="s2">"3"</span><span class="p">,</span> <span class="s2">"3"</span><span class="p">],</span>
                    <span class="p">[</span><span class="s2">"4"</span><span class="p">,</span> <span class="s2">"4"</span><span class="p">],</span>
                    <span class="p">[</span><span class="s2">"5"</span><span class="p">,</span> <span class="s2">"5"</span><span class="p">],</span>
                    <span class="p">[</span><span class="s2">"6"</span><span class="p">,</span> <span class="s2">"6"</span><span class="p">],</span>
                    <span class="p">[</span><span class="s2">"7"</span><span class="p">,</span> <span class="s2">"7"</span><span class="p">],</span>
                    <span class="p">[</span><span class="s2">"8"</span><span class="p">,</span> <span class="s2">"8"</span><span class="p">],</span>
                    <span class="p">[</span><span class="s2">"9"</span><span class="p">,</span> <span class="s2">"9"</span><span class="p">]</span>
                <span class="p">],</span>
                <span class="na">fontSize</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
                <span class="c1">// 기본 컬러는 EntryStatic.ARROW_COLOR_VARIABLE 이다.</span>
                <span class="c1">// 드롭다운 버튼의 컬러를 커스텀하게 변경 할 수 있다.</span>
                <span class="na">arrowColor</span><span class="p">:</span> <span class="s2">"#FFD974"</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="na">def</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">params</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="na">type</span><span class="p">:</span> <span class="s2">"number"</span><span class="p">,</span>
                    <span class="na">params</span><span class="p">:</span> <span class="p">[</span> <span class="s2">"2"</span> <span class="p">]</span>
                <span class="p">},</span>
                <span class="c1">// Dropdown 값의 경우 Value를 세팅하면 초기값이 처리된다.</span>
                <span class="s2">"1"</span>
            <span class="p">],</span>
            <span class="na">type</span><span class="p">:</span> <span class="s2">"test1"</span>
        <span class="p">},</span>
        <span class="na">paramsKeyMap</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">LEFTHAND</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="na">RIGHTHAND</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">},</span>
        <span class="na">class</span><span class="p">:</span> <span class="s2">"test"</span><span class="p">,</span>
        <span class="na">func</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sprite</span><span class="p">,</span> <span class="nx">script</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">leftValue</span> <span class="o">=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">getNumberValue</span><span class="p">(</span><span class="s2">"LEFTHAND"</span><span class="p">,</span> <span class="nx">script</span><span class="p">);</span>
            <span class="c1">// Dropdown의 경우 getField로 값을 가져오고</span>
            <span class="c1">// 명식적으로 숫자형으로 가져올땐 getNumberField를 사용해서 가져온다.</span>
            <span class="c1">// 가져온 데이터는 Dropdown Option설정시에 지정하였던 Value값이다.</span>
            <span class="kd">var</span> <span class="nx">rightValue</span> <span class="o">=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">getNumberField</span><span class="p">(</span><span class="s2">"RIGHTHAND"</span><span class="p">,</span> <span class="nx">script</span><span class="p">);</span>
            <span class="k">return</span>  <span class="nx">leftValue</span> <span class="o">*</span> <span class="nx">rightValue</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>사용자 키보드 타이핑 입력이 아닌 정해진 값을 선택해서 입력받는 방식으로 드롭다운 블록을 이용할수 있다. 
기본적으로 드롭다운은 Key, Value방식으로 동작하고 Key는 사용자 에게 보여주는 값이며, Value는 내부적으로 사용되는 값이다.</p>

<blockquote>
  <p>유사한 블록은 계산블록의 날짜를 가져오는 블록과 하드웨어에서 센서를 골라서 값을 가져오는 기능이다.</p>
</blockquote>

<hr />

<h3 id="section-6">2. 판단 블록</h3>

<h4 id="section-7">ㄱ. 기본 판단 블록</h4>
<p><img src="/entry-hw/public/image/block_create/default_boolean.png" alt="기본 판단 블록" /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Entry</span><span class="p">.</span><span class="nx">block</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">default_boolean</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1">// 판단 블록 색생</span>
        <span class="c1">// 기본 색상은 #AEB8FF</span>
        <span class="na">color</span><span class="p">:</span> <span class="s2">"#AEB8FF"</span><span class="p">,</span>
        <span class="c1">// 판단 블록은 skeleton이 basic_boolean_field이다.</span>
        <span class="na">skeleton</span><span class="p">:</span> <span class="s2">"basic_boolean_field"</span><span class="p">,</span>
        <span class="c1">// template에 기본적으로 텍스트를 작성하면 해당 바로 텍스트가 표현되나</span>
        <span class="c1">// 아래와 같이 type: "Text" 로도 마찬가지로 설정할수 있다.</span>
        <span class="na">template</span><span class="p">:</span> <span class="s2">"%1"</span><span class="p">,</span>
        <span class="na">params</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="na">type</span><span class="p">:</span> <span class="s2">"Text"</span><span class="p">,</span>
                <span class="c1">// 보여질 텍스트</span>
                <span class="na">text</span><span class="p">:</span> <span class="s2">"판단 블록"</span><span class="p">,</span>
                <span class="c1">// 텍스트의 색상</span>
                <span class="na">color</span><span class="p">:</span> <span class="s2">"#3D3D3D"</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="na">def</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">type</span><span class="p">:</span> <span class="s2">"default_boolean"</span>
        <span class="p">},</span>
        <span class="na">class</span><span class="p">:</span> <span class="s2">"test"</span><span class="p">,</span>
        <span class="na">func</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sprite</span><span class="p">,</span> <span class="nx">script</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// 판단 블록은 리턴값이 true, false이어야 한다.</span>
            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>IF문을 사용할때 사용하는 파라미터 블럭 이다. 
기본적으로 디지털 값 등 true, false두가지 형태로 나우어지는 데이터에 대해서 구성되어지는 블록이다.</p>

<blockquote>
  <p>유사한 블록으로는 판단에 마우스를 클릭했는가? 이다.</p>
</blockquote>

<hr />

<h4 id="section-8">ㄴ. 중첩 사용자 입력 판단 블록</h4>
<p><img src="/entry-hw/public/image/block_create/default_input_boolean.png" alt="중첩 사용자 입력 판단 블록" /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Entry</span><span class="p">.</span><span class="nx">block</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">default_input_boolean</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">color</span><span class="p">:</span> <span class="s2">"#AEB8FF"</span><span class="p">,</span>
        <span class="na">skeleton</span><span class="p">:</span> <span class="s2">"basic_boolean_field"</span><span class="p">,</span>
        <span class="na">template</span><span class="p">:</span> <span class="s2">"%1 == %2"</span><span class="p">,</span>
        <span class="na">params</span><span class="p">:</span> <span class="p">[{</span>
            <span class="na">type</span><span class="p">:</span> <span class="s2">"Block"</span><span class="p">,</span>
            <span class="na">accept</span><span class="p">:</span> <span class="s2">"string"</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="na">type</span><span class="p">:</span> <span class="s2">"Block"</span><span class="p">,</span>
            <span class="na">accept</span><span class="p">:</span> <span class="s2">"string"</span>
        <span class="p">}],</span>
        <span class="na">def</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">params</span><span class="p">:</span> <span class="p">[{</span>
                <span class="na">type</span><span class="p">:</span> <span class="s2">"number"</span><span class="p">,</span>
                <span class="na">params</span><span class="p">:</span> <span class="p">[</span> <span class="s2">"10"</span> <span class="p">]</span>
            <span class="p">},</span> <span class="p">{</span>
                <span class="na">type</span><span class="p">:</span> <span class="s2">"number"</span><span class="p">,</span>
                <span class="na">params</span><span class="p">:</span> <span class="p">[</span> <span class="s2">"33"</span> <span class="p">]</span>
            <span class="p">}],</span>
            <span class="na">type</span><span class="p">:</span> <span class="s2">"default_input_boolean"</span>
        <span class="p">},</span>
        <span class="na">paramsKeyMap</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">LEFTHAND</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="na">RIGHTHAND</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">},</span>
        <span class="na">class</span><span class="p">:</span> <span class="s2">"test"</span><span class="p">,</span>
        <span class="na">func</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sprite</span><span class="p">,</span> <span class="nx">script</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">leftValue</span> <span class="o">=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">getNumberValue</span><span class="p">(</span><span class="s2">"LEFTHAND"</span><span class="p">,</span> <span class="nx">script</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">rightValue</span> <span class="o">=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">getNumberValue</span><span class="p">(</span><span class="s2">"RIGHTHAND"</span><span class="p">,</span> <span class="nx">script</span><span class="p">);</span>
            <span class="k">return</span> <span class="p">(</span><span class="nx">leftValue</span> <span class="o">===</span> <span class="nx">rightValue</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>사용자에게 입력을 받아 값을 비교해 boolean값으로 반환 받는 블록이다. 
하드웨어 센서 값들을 비교해서 처리하는데 이용할 수 있다. 
다만 단순 값비교는 이미 존재하는 판단블록으로도 처리가 가능하다.</p>

<blockquote>
  <p>유사한 블록으로는 판단의 숫자 비교블록 이다.</p>
</blockquote>

<h4 id="section-9">ㄷ. 중첩 사용자 드롭다운 판단 블록</h4>
<p><img src="/entry-hw/public/image/block_create/default_dropdown_boolean.png" alt="중첩 사용자 드롭다운 판단 블록" /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Entry</span><span class="p">.</span><span class="nx">block</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">default_dropdown_boolean</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">color</span><span class="p">:</span> <span class="s2">"#AEB8FF"</span><span class="p">,</span>
        <span class="na">skeleton</span><span class="p">:</span> <span class="s2">"basic_boolean_field"</span><span class="p">,</span>
        <span class="na">template</span><span class="p">:</span> <span class="s2">"%1이 참이면"</span><span class="p">,</span>
        <span class="na">params</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="na">type</span><span class="p">:</span> <span class="s2">"Dropdown"</span><span class="p">,</span>
                <span class="na">options</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">[</span> <span class="s2">"첫번째"</span><span class="p">,</span> <span class="s2">"0"</span> <span class="p">],</span>
                    <span class="p">[</span> <span class="s2">"두번째"</span><span class="p">,</span> <span class="s2">"1"</span> <span class="p">],</span>
                    <span class="p">[</span> <span class="s2">"세번째"</span><span class="p">,</span> <span class="s2">"2"</span> <span class="p">]</span>
                <span class="p">],</span>
                <span class="na">fontSize</span><span class="p">:</span> <span class="mi">11</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="na">def</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">params</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">"0"</span>
            <span class="p">],</span>
            <span class="na">type</span><span class="p">:</span> <span class="s2">"default_dropdown_boolean"</span>
        <span class="p">},</span>
        <span class="na">paramsKeyMap</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">VALUE</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
        <span class="na">class</span><span class="p">:</span> <span class="s2">"test"</span><span class="p">,</span>
        <span class="na">func</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sprite</span><span class="p">,</span> <span class="nx">script</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">getNumberValue</span><span class="p">(</span><span class="s2">"VALUE"</span><span class="p">,</span> <span class="nx">script</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">result</span><span class="p">;</span>
            <span class="k">switch</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="nx">result</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="nx">result</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="nx">result</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>정해진 목록내에서 입력 값을 받으려면 드롭다운을 사용할수 있다. 
주로 하드웨어의 디지털 입력을 처리 할때 많이 사용한다.</p>

<blockquote>
  <p>유사한 블록으로는 하드웨어 디지털 입력 블록과 판단의 닿았는가 블록이 있다.</p>
</blockquote>

<hr />

<h3 id="section-10">3. 순차 블록</h3>

<h4 id="section-11">ㄱ. 기본 순차 블록</h4>
<p><img src="/entry-hw/public/image/block_create/default_block.png" alt="기본 순차 블록" /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Entry</span><span class="p">.</span><span class="nx">block</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">default_block</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1">// 하드웨어 기본 색상</span>
        <span class="na">color</span><span class="p">:</span> <span class="s2">"#00979D"</span><span class="p">,</span>
        <span class="na">skeleton</span><span class="p">:</span> <span class="s2">"basic"</span><span class="p">,</span>
        <span class="c1">// 순차블록은 마지막에 이미지가 들어가도록 되어 있다.</span>
        <span class="c1">// 이미지도 parameter로 관리 됨으로 %1값이 마지막에 들어간다.</span>
        <span class="na">template</span><span class="p">:</span> <span class="s2">"변수 A값에 1더하기 %1"</span><span class="p">,</span>
        <span class="na">params</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="na">type</span><span class="p">:</span> <span class="s2">"Indicator"</span><span class="p">,</span>
                <span class="c1">// hardware_03.png가 하드웨어 아이콘 이다.</span>
                <span class="na">img</span><span class="p">:</span> <span class="s2">"block_icon/hardware_03.png"</span><span class="p">,</span>
                <span class="na">size</span><span class="p">:</span> <span class="mi">12</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="na">events</span><span class="p">:</span> <span class="p">{},</span>
        <span class="na">def</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">type</span><span class="p">:</span> <span class="s2">"default_block"</span>
        <span class="p">},</span>
        <span class="na">class</span><span class="p">:</span> <span class="s2">"test"</span><span class="p">,</span>
        <span class="na">isNotFor</span><span class="p">:</span> <span class="p">[],</span>
        <span class="na">func</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sprite</span><span class="p">,</span> <span class="nx">script</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// A라는 변수가 있다고 가정할때.</span>
            <span class="nx">Entry</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">A</span><span class="o">++</span><span class="p">;</span>
            <span class="c1">// 순차 블록은 기본적으로 return값이 value가 아닌</span>
            <span class="c1">// script.callReturn();이다.</span>
            <span class="c1">// script.callReturn()은 다음 블록을 실행하도록 한다.</span>
            <span class="k">return</span> <span class="nx">script</span><span class="p">.</span><span class="nx">callReturn</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>가장 많이 사용하는 블록이다. 순차로 실행되는 블록으로 정해진 기능을 수행하는 블록이다. 
엔트리에서 가장 많이 사용되며 핵심블록으로 분류할수 있다.</p>

<h4 id="section-12">ㄴ. 사용자 입력 순차 블록</h4>
<p><img src="/entry-hw/public/image/block_create/default_input_block.png" alt="기본 순차 블록" /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Entry</span><span class="p">.</span><span class="nx">block</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">default_input_block</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">color</span><span class="p">:</span> <span class="s2">"#00979D"</span><span class="p">,</span>
        <span class="na">skeleton</span><span class="p">:</span> <span class="s2">"basic"</span><span class="p">,</span>
        <span class="na">template</span><span class="p">:</span> <span class="s2">"변수 A값에 %1더하기 %2"</span><span class="p">,</span>
        <span class="na">params</span><span class="p">:</span> <span class="p">[{</span>
            <span class="na">type</span><span class="p">:</span> <span class="s2">"Block"</span><span class="p">,</span>
            <span class="na">accept</span><span class="p">:</span> <span class="s2">"string"</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="na">type</span><span class="p">:</span> <span class="s2">"Indicator"</span><span class="p">,</span>
            <span class="na">img</span><span class="p">:</span> <span class="s2">"block_icon/hardware_03.png"</span><span class="p">,</span>
            <span class="na">size</span><span class="p">:</span> <span class="mi">12</span>
        <span class="p">}],</span>
        <span class="na">events</span><span class="p">:</span> <span class="p">{},</span>
        <span class="na">def</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">params</span><span class="p">:</span> <span class="p">[{</span>
                <span class="na">type</span><span class="p">:</span> <span class="s2">"number"</span><span class="p">,</span>
                <span class="na">params</span><span class="p">:</span> <span class="p">[</span> <span class="s2">"1"</span> <span class="p">]</span>
            <span class="p">},</span>
                <span class="kc">null</span>
            <span class="p">],</span>
            <span class="na">type</span><span class="p">:</span> <span class="s2">"default_input_block"</span>
        <span class="p">},</span>
        <span class="na">class</span><span class="p">:</span> <span class="s2">"test"</span><span class="p">,</span>
        <span class="na">paramsKeyMap</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">VALUE</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
        <span class="na">func</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sprite</span><span class="p">,</span> <span class="nx">script</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">getNumberValue</span><span class="p">(</span><span class="s2">"VALUE"</span><span class="p">,</span> <span class="nx">script</span><span class="p">);</span>
            <span class="c1">// A라는 변수가 있다고 가정할때.</span>
            <span class="nx">Entry</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">A</span> <span class="o">+=</span> <span class="nx">value</span><span class="p">;</span>
            <span class="k">return</span> <span class="nx">script</span><span class="p">.</span><span class="nx">callReturn</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>유저 입력을 받아서 처리하는 순차 블록. 기본적인 생성방법은 기존의 블록들과 다르지 않다. 
하드웨어를 처리할때 아날로그 센서값을 반아 처리하는 블록에 자주 사용된다.</p>

<h4 id="section-13">ㄷ. 드롭다운 입력 순차 블록</h4>
<p><img src="/entry-hw/public/image/block_create/default_dropdown_block.png" alt="드롭다운 입력 순차 블록  " /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Entry</span><span class="p">.</span><span class="nx">block</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">default_dropdown_block</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1">// 하드웨어 기본 색상</span>
        <span class="na">color</span><span class="p">:</span> <span class="s2">"#00979D"</span><span class="p">,</span>
        <span class="s2">"skeleton"</span><span class="p">:</span> <span class="s2">"basic"</span><span class="p">,</span>
        <span class="s2">"template"</span><span class="p">:</span> <span class="s2">"변수 A값에 %1더하기 %2"</span><span class="p">,</span>
        <span class="s2">"params"</span><span class="p">:</span> <span class="p">[{</span>
            <span class="na">type</span><span class="p">:</span> <span class="s2">"Dropdown"</span><span class="p">,</span>
            <span class="na">options</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">[</span> <span class="s2">"1"</span><span class="p">,</span> <span class="s2">"1"</span> <span class="p">],</span>
                <span class="p">[</span> <span class="s2">"2"</span><span class="p">,</span> <span class="s2">"2"</span> <span class="p">],</span>
                <span class="p">[</span> <span class="s2">"3"</span><span class="p">,</span> <span class="s2">"3"</span> <span class="p">]</span>
            <span class="p">],</span>
            <span class="na">fontSize</span><span class="p">:</span> <span class="mi">11</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"Indicator"</span><span class="p">,</span>
            <span class="s2">"img"</span><span class="p">:</span> <span class="s2">"block_icon/hardware_03.png"</span><span class="p">,</span>
            <span class="s2">"size"</span><span class="p">:</span> <span class="mi">12</span>
        <span class="p">}],</span>
        <span class="s2">"def"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"params"</span><span class="p">:</span> <span class="p">[</span> <span class="s2">"1"</span><span class="p">,</span> <span class="kc">null</span> <span class="p">],</span>
            <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"default_dropdown_block"</span>
        <span class="p">},</span>
        <span class="s2">"class"</span><span class="p">:</span> <span class="s2">"test"</span><span class="p">,</span>
        <span class="na">paramsKeyMap</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">VALUE</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
        <span class="s2">"func"</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sprite</span><span class="p">,</span> <span class="nx">script</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">getNumberField</span><span class="p">(</span><span class="s2">"VALUE"</span><span class="p">,</span> <span class="nx">script</span><span class="p">);</span>
            <span class="c1">// A라는 변수가 있다고 가정할때.</span>
            <span class="nx">Entry</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">A</span> <span class="o">+=</span> <span class="nx">value</span><span class="p">;</span>
            <span class="k">return</span> <span class="nx">script</span><span class="p">.</span><span class="nx">callReturn</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>이것 또한 많이 사용되는 블록이다. 보통은 하드웨어 블록에서 특성 센서나 포트를 지정해서 값을 처리 할때 사용한다.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/entry-hw/2016/05/26/add_new_blocks2/">
        블록 사용 등록
      </a>
    </h1>

    <span class="post-date">26 May 2016</span>

    <h3 id="section">블록 사용 등록</h3>
<p>기존에는 static.js에 EntryStatic.getAllBlocks와 EntryStatic.blockInfo 두 가지를 설정했지만 
blockInfo의 경우 block_entry.js에 포함되었습니다. getAllBlocks에만 사용 할 블록을 등록하면 해당 블록이 나오게 되어있습니다. 
작성 방법은 기존과 같습니다.</p>


  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/entry-hw/2016/05/22/add_new_blocks/">
        블록 명세 작성
      </a>
    </h1>

    <span class="post-date">22 May 2016</span>

    <h3 id="section">신규 엔트리 블록</h3>
<p>엔트리 블록 라이브러리가 변경되었습니다. 기존에 사용하던 구글 Blockly에서 자체개발 Block라이브러리로 변경 되었고 변경과 함께 개발 방법또한 변경되었습니다. 이 문서에서는 변경된 블록 라이브러리를 이용하여 개발을 수행하는 방법에 대해서 설명합니다.</p>

<h3 id="section-1">블록 명세 작성</h3>

<h4 id="section-2">블록 작성</h4>
<p>기존의 블록 작성 방식과 다르게 신규 블록은 block_entry.js의 하나의 파일에서 관리 하고 있습니다. 해당 파일에 블록의 모양과 기능을 정희 하면 블록을 만들수 있게 됩니다. 아래의 내용은 블록 구성에 필요한 정보 입니다.</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Entry</span><span class="p">.</span><span class="nx">block</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"sample_block"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"parent"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
        <span class="s2">"color"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
        <span class="s2">"fontColor"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
        <span class="s2">"skeleton"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
        <span class="s2">"statement"</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">"params"</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">"events"</span><span class="p">:</span> <span class="p">{},</span>
        <span class="s2">"def"</span><span class="p">:</span> <span class="p">{},</span>
        <span class="s2">"paramsKeyMap"</span><span class="p">:</span> <span class="p">{},</span>
        <span class="s2">"class"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
        <span class="s2">"isNotFor"</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">"func"</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>위와 같은 구성으로 이루어 집니다. 하나씩 어떻게 만들어 지는지 설명을 드리겠습니다.</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Entry</span><span class="p">.</span><span class="nx">block</span> <span class="o">=</span> <span class="p">{}</span></code></pre></figure>

<p>전체 엔트리 블록을 관리하는 오브젝트 입니다.</p>

<figure class="highlight"><pre><code class="language-none" data-lang="none">"sample_block": {}</code></pre></figure>

<p>sample_block 이라는 블록의 설정을 나타냅니다. sample_block이라는 명칭 대신 넣고 싶은 블록의 이름을 사용하면 됩니다. 실제로 엔트리에서 관리되어지는 블록의 이름을 뜻합니다.</p>

<figure class="highlight"><pre><code class="language-none" data-lang="none">"parent": ""</code></pre></figure>

<p>특정 블록의 정보를 상속 받아 사용할 경우 사용하는 속성 입니다. 즉, sample_block이라는 블록을 생성할때 sample_mother_block이라는 블록의 과 똑같은 모양과 역할을 하는 블록으로 만들고자 할때는 따로 작성할 필요 없이 “parent” 부분에 “sample_mother_block”이라는 값을 작성 함으로써 할당이 가능해 집니다. 다만 “parent”만 설정하면 “parent”와 단순히 똑같은 블록이 하나더 생일 뿐입니다. “parent”를 상속 받은후 “def”속성 에서 다른 블록이라는 것을 명시해 주어야 합니다.</p>

<p>그 예는 다음과 같습니다.</p>

<figure class="highlight"><pre><code class="language-none" data-lang="none">"sample_block": {
    "parent": "sample_mother_block",
    "def": {
        "type": "sample_block"
    }
}</code></pre></figure>

<figure class="highlight"><pre><code class="language-none" data-lang="none">"color": ""</code></pre></figure>

<p>블록의 색상을 지정 합니다. 하드웨어 블록은 기본적으로 <code>#00979D</code>색상 값을 사용합니다. 색상값은 RGB코드 값을 넣어 주면 됩니다.</p>

<figure class="highlight"><pre><code class="language-none" data-lang="none">"fontColor": ""</code></pre></figure>

<p>블록의 글자 색상을 지정 합니다. 하드웨어 블록은 기본적으로 없거나<code>#FFFFFF</code>색상 값을 사용합니다. 색상값은은 RGB코드 값을 넣어 주면 됩니다.</p>

<figure class="highlight"><pre><code class="language-none" data-lang="none">"skeleton": ""</code></pre></figure>

<p>블록의 모양을 결정 합니다. 해당블록의 모양은 차후에 생성되는 문서를 참고해 주세요.<br />
현재 기본적으로 사용가능한 skeleton은 “basic”, “basic_create”, “basic_event”, “basic_loop”, “basic_define”, “pebble_event”, “pebble_loop”, “pebble_basic”, “basic_string_field”, “basic_boolean_field”, “basic_param”, “basic_button”, “basic_without_next”, “basic_double_loop”가 있습니다.</p>

<figure class="highlight"><pre><code class="language-none" data-lang="none">"statement": []</code></pre></figure>

<p>블록 안에 블록을 넣을수 있는 블록의 타입을 설정 합니다. 기본적으로 <code>"accept": "basic"</code>을 사용 합니다.</p>

<figure class="highlight"><pre><code class="language-none" data-lang="none">"params": ""</code></pre></figure>

<p>“param”은 블록에 추가 적으로 넣을 요소 입니다. 기본적으로 블록의 특색을 나타내는 이미지를 넣어 주고 기타 데이터가 필요한 경우를 해당 블록을 설정 합니다.</p>

<figure class="highlight"><pre><code class="language-none" data-lang="none">"events": {}</code></pre></figure>

<figure class="highlight"><pre><code class="language-none" data-lang="none">"def": ""</code></pre></figure>

<p>블록을 정의 합니다. type요소의 경우에는 특별한 일이 ㅇ벗다면 유니크 하게 작성되고 params의 경우는 params에 정의한 parameter에서 초기값등을 설정 할수 있습니다.</p>

<figure class="highlight"><pre><code class="language-none" data-lang="none">"paramsKeyMap": ""</code></pre></figure>

<p>“params”에 정의한 parameter에 대한 key값을 지정합니다.</p>

<figure class="highlight"><pre><code class="language-none" data-lang="none">"class": ""</code></pre></figure>

<p>블록 단위의 모음을 설정합니다. class끼리 묶이고 class가 다른 경우 가로줄로 구분되어 사용자에게 보여지게 됩니다.</p>

<figure class="highlight"><pre><code class="language-none" data-lang="none">"isNotFor": ""</code></pre></figure>

<figure class="highlight"><pre><code class="language-none" data-lang="none">"func": ""</code></pre></figure>

<p>블록의 기능을 정의 합니다. 실질적인 블록의 로직을 담당합니다. 사용방법은 기존의 블록 방식과 같습니다.</p>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/entry-hw/posts/page2">이전</a>
  
  
    <span class="pagination-item newer">다음</span>
  
</div>
				</div>
			</div>
		</div>
	</body>
</html>
